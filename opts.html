<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
 <html><head><title>R: Set options/theme elements for a single plot</title>
 <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
 <link rel="stylesheet" type="text/css" href="R.css">
 </head><body>
 
 <table width="100%" summary="page for opts"><tr><td>opts</td><td align="right">R Documentation</td></tr></table>
 
 <h2>Set options/theme elements for a single plot</h2>
 
 <h3>Description</h3>
 
 
 <p>Use this function if you want to modify a few theme
 settings for a single plot.
 </p>
 
 
 <h3>Usage</h3>
 
 <pre>
   opts(...)
 </pre>
 
 
 <h3>Arguments</h3>
 
 
 <table summary="R argblock">
 <tr valign="top"><td><code>...</code></td>
 <td>
 <p>a list of element name, element pairings that
 modify the existing theme.</p>
 </td></tr>
 </table>
 
 
 <h3>Theme elements</h3>
 
 
 <p>The individual theme elements are:
 </p>
 
 <table summary="Rd table">
 <tr>
  <td align="left"> axis.line </td><td align="left"> line along axis </td>
 </tr>
 <tr>
  <td align="left">
   axis.text.x </td><td align="left"> x axis label </td>
 </tr>
 <tr>
  <td align="left"> axis.text.y </td><td align="left"> y axis
   label </td>
 </tr>
 <tr>
  <td align="left"> axis.ticks </td><td align="left"> axis tick marks </td>
 </tr>
 <tr>
  <td align="left">
   axis.ticks.length </td><td align="left"> tick mark length </td>
 </tr>
 <tr>
  <td align="left">
   axis.ticks.margin </td><td align="left"> tick mark margin spacing </td>
 </tr>
 <tr>
  <td align="left">
   axis.title.x </td><td align="left"> horizontal tick labels </td>
 </tr>
 <tr>
  <td align="left"> axis.title.y
   </td><td align="left"> vertical tick labels </td>
 </tr>
 <tr>
  <td align="left"> legend.background </td><td align="left">
   background of legend </td>
 </tr>
 <tr>
  <td align="left"> legend.margin </td><td align="left"> extra space
   added around legend (both width or height depending on
   orientation of legend) </td>
 </tr>
 <tr>
  <td align="left"> legend.key </td><td align="left"> background
   underneath legend keys </td>
 </tr>
 <tr>
  <td align="left"> legend.key.size </td><td align="left"> key
   background size </td>
 </tr>
 <tr>
  <td align="left"> legend.key.height </td><td align="left"> key background
   height </td>
 </tr>
 <tr>
  <td align="left"> legend.key.width </td><td align="left"> key background width </td>
 </tr>
 <tr>
  <td align="left">
   legend.text </td><td align="left"> legend labels </td>
 </tr>
 <tr>
  <td align="left"> legend.text.align </td><td align="left">
   alignment of legend labels </td>
 </tr>
 <tr>
  <td align="left"> legend.title </td><td align="left"> legend
   name </td>
 </tr>
 <tr>
  <td align="left"> legend.title.align </td><td align="left"> alignment of legend
   title </td>
 </tr>
 <tr>
  <td align="left"> legend.position </td><td align="left"> A string or numeric vector
   specifying the position of guides (legends).  Possible
   values are: "left", "right", "bottom", "top", and
   two-element numeric vector. </td>
 </tr>
 <tr>
  <td align="left"> legend.justification </td><td align="left">
   alignment of legend </td>
 </tr>
 <tr>
  <td align="left"> legend.direction </td><td align="left"> horizontal
   or vertical </td>
 </tr>
 <tr>
  <td align="left"> legend.box </td><td align="left"> A string specifying the
   direction of multiple guides. Possible string values are:
   "horizontal" and "vertical". </td>
 </tr>
 <tr>
  <td align="left"> panel.background </td><td align="left">
   background of panel </td>
 </tr>
 <tr>
  <td align="left"> panel.border </td><td align="left"> border around
   panel </td>
 </tr>
 <tr>
  <td align="left"> panel.margin </td><td align="left"> margin around facet panels
   </td>
 </tr>
 <tr>
  <td align="left"> panel.grid.major </td><td align="left"> major grid lines </td>
 </tr>
 <tr>
  <td align="left">
   panel.grid.minor </td><td align="left"> minor grid lines </td>
 </tr>
 <tr>
  <td align="left">
   plot.background </td><td align="left"> background of the entire plot </td>
 </tr>
 <tr>
  <td align="left">
   plot.title </td><td align="left"> plot title </td>
 </tr>
 <tr>
  <td align="left"> plot.margin </td><td align="left"> plot
   margins </td>
 </tr>
 <tr>
  <td align="left"> strip.background </td><td align="left"> background of facet
   labels </td>
 </tr>
 <tr>
  <td align="left"> strip.text.x </td><td align="left"> text for horizontal strips
   </td>
 </tr>
 <tr>
  <td align="left"> strip.text.y </td><td align="left"> text for vertical strips </td>
 </tr>
 <tr>
  <td align="left"> </td>
 </tr>
 
 </table>
 
 
 
 <h3>Examples</h3>
 
 <pre>
 
 p &lt;- qplot(mpg, wt, data = mtcars)
 p
 p + opts(panel_background = theme_rect(colour = "pink"))
 p + theme_bw()
 
 # Scatter plot of gas mileage by vehicle weight
 p &lt;- ggplot(mtcars, aes(x = wt, y = mpg)) + geom_point()
 # Calculate slope and intercept of line of best fit
 coef(lm(mpg ~ wt, data = mtcars))
 p + geom_abline(intercept = 37, slope = -5)
 # Calculate correlation coefficient
 with(mtcars, cor(wt, mpg, use = "everything", method = "pearson"))
 #annotate the plot
 p + geom_abline(intercept = 37, slope = -5) +
 geom_text(data = data.frame(), aes(4.5, 30, label = "Pearson-R = -.87"))
 
 # Change the axis labels
 # Original plot
 p
 p + xlab("Vehicle Weight") + ylab("Miles per Gallon")
 # Or
 p + labs(x = "Vehicle Weight", y = "Miles per Gallon")
 
 # Add a title to the plot
 p + opts(title = "Vehicle Weight-Gas Mileage Relationship")
 # Change title appearance
 p &lt;- p + opts(title = "Vehicle Weight-Gas Mileage Relationship")
 p + opts(plot.title = theme_text(size = 20))
 p + opts(plot.title = theme_text(size = 20, colour = "Blue"))
 
 # Changing plot look with themes
 DF &lt;- data.frame(x = rnorm(400))
 m &lt;- ggplot(DF, aes(x = x)) + geom_histogram()
 #default is theme_grey()
 m
 # Compare with
 m + theme_bw()
 
 # Manipulate Axis Attributes
 library(grid) # for unit
 m + opts(axis.line = theme_segment())
 m + opts(axis.line = theme_segment(colour = "red", linetype = "dotted"))
 m + opts(axis.text.x = theme_text(colour = "blue"))
 m + opts(axis.text.y = theme_blank())
 m + opts(axis.ticks = theme_segment(size = 2))
 m + opts(axis.title.y = theme_text(size = 20, angle = 90))
 m + opts(axis.title.x = theme_blank())
 m + opts(axis.ticks.length = unit(.85, "cm"))
 
 # Legend Attributes
 z &lt;- ggplot(mtcars, aes(wt, mpg, colour = factor(cyl))) + geom_point()
 z
 z + opts(legend.position = "none")
 z + opts(legend.position = "bottom")
 # Or use relative coordinates between 0 and 1
 z + opts(legend.position = c(.5, .5))
 z + opts(legend.background = theme_rect())
 # Legend margin controls extra space around outside of legend:
 z + opts(legend.background = theme_rect(), legend.margin = unit(1, "cm"))
 z + opts(legend.background = theme_rect(), legend.margin = unit(0, "cm"))
 # Or to just the keys
 z + opts(legend.key = theme_rect())
 z + opts(legend.key = theme_rect(fill = "yellow"))
 z + opts(legend.key.size = unit(2.5, "cm"))
 z + opts(legend.text = theme_text(size = 20, colour = "red", angle = 45))
 z + opts(legend.title = theme_text(face = "italic"))
 
 # To change the title of the legend use the name argument
 # in one of the scale options
 z + scale_colour_brewer(name = "My Legend")
 z + scale_colour_grey(name = "Number of \nCylinders")
 
 # Panel and Plot Attributes
 z + opts(panel.background = theme_rect())
 z + opts(panel.background = theme_rect(fill = "black"))
 z + opts(panel.border = theme_rect(linetype = "dashed"))
 z + opts(panel.grid.major = theme_line(colour = "blue"))
 z + opts(panel.grid.minor = theme_line(colour = "red", linetype = "dotted"))
 z + opts(panel.grid.major = theme_line(size = 2))
 z + opts(plot.background = theme_rect())
 z + opts(plot.background = theme_rect(fill = "grey"))
 
 # Faceting Attributes
 set.seed(4940)
 dsmall &lt;- diamonds[sample(nrow(diamonds), 1000), ]
 k &lt;- ggplot(dsmall, aes(carat, ..density..)) +  geom_histogram(binwidth = 0.2) +
 facet_grid(. ~ cut)
 k + opts(strip.background = theme_rect(colour = "purple", fill = "pink", size = 3, linetype = "dashed"))
 k + opts(strip.text.x = theme_text(colour = "red", angle = 45, size = 10, hjust = 0.5, vjust = 0.5))
 k + opts(panel.margin = unit(5, "lines"))
 k + opts(panel.margin = unit(0, "lines"))
 
 </pre>
 
 
 </body></html>
