<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
 <html><head><title>R: Force a Matrix to 'symmetricMatrix' Without Symmetry Checks</title>
 <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
 <link rel="stylesheet" type="text/css" href="R.css">
 </head><body>
 
 <table width="100%" summary="page for forceSymmetric"><tr><td>forceSymmetric</td><td align="right">R Documentation</td></tr></table>
 
 <h2>Force a Matrix to 'symmetricMatrix' Without Symmetry Checks</h2>
 
 <h3>Description</h3>
 
 
 <p>Force <code>x</code> (inheriting from <code>Matrix</code> class) to
 <code>symmetricMatrix</code>, <B>without</B> a symmetry check
 (which <EM>is</EM> applied for all <code>as(x, "symmetricMatrix")</code>
 alikes).
 </p>
 
 
 <h3>Usage</h3>
 
 <pre>
 forceSymmetric(x, uplo)
 </pre>
 
 
 <h3>Arguments</h3>
 
 
 <table summary="R argblock">
 <tr valign="top"><td><code>x</code></td>
 <td>
 <p>a (classed) square matrix.</p>
 </td></tr>
 <tr valign="top"><td><code>uplo</code></td>
 <td>
 <p>optional string, <code>"U"</code> or <code>"L"</code>.
 The default is <code>"U"</code> unless <code>x</code> already has a <code>uplo</code>
 slot (i.e., when it is <code>symmetricMatrix</code>,
 or  <code>triangularMatrix</code>), where the default will
 be <code>x@uplo</code>.</p>
 </td></tr>
 </table>
 
 
 <h3>Value</h3>
 
 
 <p>a square matrix inheriting from class
 <code>symmetricMatrix</code>.
 </p>
 
 
 <h3>See Also</h3>
 
 <p><code>symmpart</code> for the symmetric part, or the coercions
 <code>as(x, &lt;symmetricMatrix class&gt;)</code>.
 </p>
 
 
 <h3>Examples</h3>
 
 <pre>
  ## Hilbert matrix
  i &lt;- 1:6
  h6 &lt;- 1/outer(i - 1L, i, "+")
  sd &lt;- sqrt(diag(h6))
  hh &lt;- t(h6/sd)/sd # theoretically symmetric
  isSymmetric(hh, tol=0) # FALSE; hence
  try( as(hh, "symmetricMatrix") ) # fails, but this works fine:
  H6 &lt;- forceSymmetric(hh)
 
  ## result can be pretty surprising:
  (M &lt;- Matrix(1:36, 6))
  forceSymmetric(M) # symmetric, hence very different in lower triangle
  (tm &lt;- tril(M))
  forceSymmetric(tm)
 </pre>
 
 
 </body></html>
